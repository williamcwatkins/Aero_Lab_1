function [] = AVM(VData_P,VData_V,speed,vspeed,PUnc,VUnc)
%{
k = 1;
for i = 1:500:length(vspeed)-500
    VenturiAv(k) = mean(vspeed(i:i+500));
    k = k + 1;
end

k = 1;
for i = 1:500:length(speed)-500
    PitotAv(k) = mean(speed(i:i+500));
    k = k + 1;
end

k = 1;
for i = 1:500:length(VData_V(:,7))-500
    VenturiV(k) = mean(VData_V(i:i+500,7));
    k = k + 1;
end

k = 1;
for i = 1:500:length(VData_P(:,7))-500
    PitotV(k) = mean(VData_P(i:i+500,7));
    k = k + 1;
end

k = 1;
for i = 1:500:length(VUnc(:))-500
    VU(k) = mean(VUnc(i:i+500));
    k = k + 1;
end

k = 1;
for i = 1:500:length(PUnc(:))-500
    PU(k) = mean(PUnc(i:i+500));
    k = k + 1;
end
%}
%% pitot tube plot
Voltage = [PitotV', ones(length(PitotV),1)];

A = Voltage;
B = PitotAv';

X = A \ B;

m = X(1);
b = X(2);

V = linspace(0,10,11);

bestfit = m.*PitotV + b;



%% Veturi tube plot

Voltage_2 = [VenturiV', ones(length(VenturiV),1)];

A2 = Voltage_2;
B2 = VenturiAv';

X2 = A2 \ B2;

m2 = X2(1);
b2 = X2(2);

bestfit2 = m2.*VenturiV + b2;



subplot(1,2,1)

size(VenturiV)
size(VenturiAv)
size(VU)
size(PitotV)
size(PitotAv)
size(PU)

hold on;
errorbar(VenturiV',VenturiAv,VU,'LineStyle','none')
%plot(VData_V(:,7),bestfit2)
title('Airspeed Vs. Voltage for Venturi Tube')
xlabel('Voltage (V)')
ylabel('Velocity (m/s)')
hold off;

subplot(1,2,2)

hold on;
errorbar(PitotV',PitotAv,PU,'LineStyle','none')
%plot(VData_P(:,7),bestfit)
title('Airspeed Vs. Voltage for Pitot Tube')
xlabel('Voltage (V)')
ylabel('Velocity (m/s)')
hold off;

end
